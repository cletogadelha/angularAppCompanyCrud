<!DOCTYPE html>

<body ng-controller="CompanyCtrl">
  <h1 class="text-center">Company</h1>
  <form name="formCompany" ng-submit="saveCompany()">
    <div id="divMsg">
      <div class="alert alert-success" ng-show="successMsg">
        {{successMsg}}
      </div>
      <div class="alert alert-danger" ng-show="errorMsg">
        {{errorMsg}}
      </div>
    </div>
    <button class="fa fa-check btn btn-primary pull-right" type="submit">
      Save
    </button>
    <a style="cursor: pointer; text-decoration: none !important;" class='fa fa-arrow-left fa-2x pull-left' ng-href='#/list' title="Back" type="button"></a>
  </br>
</br>
<!-- COMPANY NAME -->
<div class="form-group">
  <input class="form-control" id="name" placeholder="Name" required name="name" ng-model="company.name" type="text">
</div>
<!-- /COMPANY NAME -->
<!-- COMPANY ADDRESS -->
<div class="form-group">
  <input class="form-control" id="address" placeholder="Address" required name="address" ng-model="company.address" type="text">
</div>
<!-- /COMPANY ADDRESS -->
<!-- COMPANY COUNTRY-->
<div class="form-group">
  <select class="form-control" name="country" id="countrySelect" ng-model="company.country" ng-change="setCities(company.country, true)" required>
    <option value="">Select the Country</option>
    <option ng-repeat="country in countries" value="{{country.name}}">{{country.name}}</option>
  </select>
</div>
<!-- /COMPANY COUNTRY -->
<!-- COMPANY CITY-->
<div class="form-group">
  <select class="form-control" name="city" id="citySelect" ng-model="company.city" required>
    <option value=''>Select the City</option>
    <option ng-repeat="city in cities" value="{{city}}">{{city}}</option>
  </select>
</div>
<!-- /COMPANY CITY -->
<!-- COMPANY EMAIL-->
<div class="form-group">
  <input class="form-control" type="email" id="email" placeholder="E-mail" name="email" ng-model="company.email">
  <div ng-show="formCompany.email.$error.email">
    <span style="color:red">Error: Enter a valid email address
    </span>
  </div>
</div>
<!-- /COMPANY EMAIL -->
<!-- COMPANY PHONENUMBER -->
<div class="form-group">
  <input class="form-control" id="phoneNumber" placeholder="Phone Number" required name="phoneNumber" ng-model="company.phoneNumber" type="text">
</div>
<!-- /COMPANY PHONENUMBER -->
<!-- COMPANY EMPLOYEES -->
<div class="form-group">
  <div class="form-inline">
    <label style="font-size: 200%" for="employees">Employees</label>
    <input value="New Employee" type="button" class="pull-right btn btn-warning" ng-click="insertEmployee()"/>
  </div>
  <br/><br/>
  <div ng-show="company.employeeList.length">
    <table class="table table-striped" align="left">
      <thead>
        <tr>
          <td>
            <b>Name</b>
          </td>
          <td>
            <b>Position Title</b>
          </td>
          <td>
            <b>Department</b>
          </td>
          <td>
            <b>Salary</b>
          </td>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="employee in company.employeeList">
          <td>{{ employee.name }}</td>
          <td>{{ employee.positionTitle }}</td>
          <td>{{ employee.department }}</td>
          <td>{{ employee.salary }}</td>
          <td>
            <button class="pull-right fa fa-times" ng-click="removeEmployee(employee)"></button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<!-- /COMPANY EMPLOYEES -->
</form>
</body>
